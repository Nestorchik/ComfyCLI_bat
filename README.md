<p aling="center"><img src="img\cli.png"></p>

# Установка ComfyUI через Comfy-CLI

В этом примере показана установка и развертывание системы **ComfyUI** с использованием исключительно команд **"comfy-cli"**.

- Скачайте bat-файл, поместите его в новую папку (можно с кириллицей и пробелами!).
- проверьте, что у вас в системе установлены "curl" + "tar" + "git", и что они находятся "в путях" (PATH).
- как проверить и скачать, описано тут: [ссылка](https://dzen.ru/a/ZvRGuDDkgRuJAEr2)
- запустите файл **"new_comfy_cli.bat"**, и ждите конца установки.

  **Бат-файл выполняет следующие действия в следующем порядке:**

- включает изоляцию системных переменных **setlocal** от изменений из самого себя
- добавляет свои пути в PATH
- с помощью **"curl"** скачивает дистрибутив питона
- с помощью **"tar"** разархивирует его
- обновляет в питоне "**pip"**
- устанавливает пакет **"comfy-cli"**
- дает команду "comfy-cli" установить **ComfyUI** в текущую папку "без вопросов", "карта NVIDIA"
- _в комментах перечислены варианты ключей установки на разные видеокарты_
- дает команду на установку кастомных нод **"ComfyUI-Crystools"** и **"ComfyUI-Crystools-save"**
- генерирует и сохраняет бат-файл **"run_ComfyUI.bat"** с командами на запуск **ComfyUI** через интерфейс **"comfy-cli"**
- генерирует и сохраняет бат-файл **"example_download_model.bat"** с набором команд текущему **"comfy-cli"** на скачивание и установку файла модели **"v1-5-pruned-emaonly.ckpt"**
- генерирует и сохраняет бат-файл **"example_install_node.bat"** с набором команд текущему **"comfy-cli"** на скачивание и установку кастомной ноды **"ComfyUI-OpenPose-Editor"**
- генерирует и сохраняет бат-файл **"update_all_ComfyUI.bat"** с набором команд текущему **"comfy-cli"** на обновление всех установленных нод и самого **ComfyUI**
- запускает установленный с помощью **"comfy-cli"** интерфейс **ComfyUI**

  Сгенерированные bat-файлы сохраняются в текущую папку и из самого bat-файла не запускаются, запускайте их самостоятельно.

  Этот файл является **ПРИМЕРОМ** управления интерфейсом **ComfyUI** через интерфейс командной строки **"comfy-cli"**, в котором применены основные команды **"comfy-cli"** на установку интерфейса, добавления кастомных нод, установки моделей и обновления всего установленного.

  Кто заинтересуется, может, разобравшись с этим примером, ознакомиться [с остальными командами **"comfy-cli"** на PyPi](https://pypi.org/project/comfy-cli)

  И, да: comfy-cli под Windows хранит свой ini-файл по адресу:
  
  - Users\User_Name\AppData\Local\comfy-cli\config.ini
  - %LOCALAPPDATA%\comfy-cli\config.ini

  Dzen: https://dzen.ru/a/ZvQHVE-FzDG136lc 
  
